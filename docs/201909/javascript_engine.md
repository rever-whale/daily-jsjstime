# JS Essentials: 자바스크립트 엔진

자바스크립트 사용자라면, 자바스크립트 엔진, 스코프, 클로져, 이벤트 큐를 알고 적용할 수 있어야합니다. 

---

### 필요한 사전 지식
이 글을 이해하기 위해선, 자바스크립에 대한 기본적인 지식만 있으면 됩니다. 해당 정보는 보다 어려운 튜토리얼 처럼 보일 수 있지만, 나중에 디버깅하는데 걸릴 시간을 많이 줄여줄 수 있는 자바스크립트에 대한 기본적인 개념입니다. 

---
### 정의
이 글에는 많은 용어들이 나옵니다. 추후 이해를 돕기 위해, 해당 내용에 대한 용어에 대해 간단히 알아보겠습니다. 복잡한 이야기는 나중에 자세히 하도록 해요. 

- 자바스크립트 엔진(javascript engine) - 자바스크립트 코드를 읽어들여 유효성 판단 및 실행하는 프로그램입니다. 자바스크립트 엔진은 한 가지가 아닙니다.  예를 들면 구글에는 v8 엔진이 있죠. 
- 스코프(scope) - 변수에 접근할 수 있는 영역입니다.
- 어휘적 스코프(lexical scope) - 실행 중인 코드 조각이 소스 코드 상에서 어디에 있는 있는지에 따라 결정되는 범위입니다. 본 글에서 lexical scope라 하면, 의미 그대로 코드가 쓰여져 있는 범위를 의미합니다.
- 블록 스코프(block scope) - 중괄호로 만든 범위 {}
- 전역(global) - 함수 안이 아닌, 어디서든 사용가능한 범위입니다.
- 동기(Synchronous) - 한 번에 한 가지를 처리합니다. "동기식" 엔진은 한번에 한 라인씩만을 실행할 수 있습니다. 자바스크립트는 동기식 언어이며, 코드를 파일 최상단부터 한줄 씩 실행합니다.
- 비동기(Asynchronous) - 한 번에 많은 일을 처리합니다. 자바스크립트는 브라우져 API를 통해 비동기 동작을 구현합니다. 
- 이벤트 / 콜백 큐(Event/Callback Queue) - 이벤트는 호출 스택이 비워진 후에 처리됩니다. 콜백 함수는 외부 브라우져 api를 사용할 때 push 됩니다. 해당 부분은 큐 형태의 자료구조를 사용하며, 선입선출의 형태로 동작합니다. // 추후 정리 필요
- 이벤트 루프(event loop) - 1) 브라우져 api가 함수의 호출 후에 2) 콜백 함수를 콜백 큐에 푸시, 3) 스택이 클리어 되면 콜백함수를 호출 스택으로 푸시하는 일련의 과정입니다.
- 스택(stack) - FILO(후입선출) 형태를 가진 자료구조입니다. 
- 힙(heap) - 변수를 저장하는 메모리 공간입니다.
- 콜 스택(call stack) - 함수 호출을 위한 곳입니다. 스택 구조로 되어있으며, 이것은 한번에 하나의 함수를 실행할 수 있음을 의미합니다. 함수 호출를 하면 함수를 콜 스택으로 push 하고, 함수에서 리턴값이 오면 콜 스택에서 pop 합니다. 
- 실행 컨텍스트(Execution Context) - 함수가 콜스택에 추가될 때 자바스크립트가 생성한 환경입니다.
- 클로져(closure) - 다른 함수 내에서 함수가 만들어진 경우, 해당 함수를 호출할 때 만들어진 환경(실행 컨텍스트)을 기억하는 것을 말합니다. 즉, 내부함수가 외부함수의 지역변수에 접근할 수 있고, 외부함수는 외부함수의 지역변수를 사용하는 내부함수가 소멸될 때까지 소멸되지 않습니다. 

출처 - https://codeburst.io/js-essentials-the-javascript-engine-302ff38e8465
